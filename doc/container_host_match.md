# 리눅스/윈도우 컨테이너와 호스트 OS의 궁합

Docker 컨테이너는 실행되는 **호스트 운영체제와 커널을 공유**하는 구조로 동작한다. 따라서, 리눅스에서 리눅스 컨테이너를 실행하거나, 윈도우에서 윈도우 컨테이너를 실행하는 것은 성능과 효율성 측면에서 "가장 궁합이 좋은 조합"이다.

---

## 1. 컨테이너와 커널 공유

| 조합 | 커널 공유 | 오버헤드 | 성능 | 특징 |
|------|-----------|-----------|--------|------|
| 리눅스 + 리눅스 컨테이너 | ✅ | 매우 적음 | 네이티브 수준 | 커널 직접 공유 |
| 윈도우 + 윈도우 컨테이너 | ✅ | 적음 | 네이티브 수준 | Windows 커널 공유 |
| 윈도우 + 리눅스 컨테이너 | ❌ | 있음 | 느림 (WSL2) | 가상 머신 필요 |
| 리눅스 + 윈도우 컨테이너 | ❌ | 불가 | 불가능 | 지원되지 않음 |

---

## 2. 리눅스에서 리눅스 컨테이너

- 리눅스 커널 기능(`namespaces`, `cgroups`, `chroot`)을 활용하여 격리된 환경 제공
- 별도의 가상화 계층 없이 호스트 커널 공유
- 시스템 자원 공유가 자연스럽고 효율적
- 오버헤드 거의 없음
- 컨테이너 시작 속도 빠름

---

## 3. 윈도우에서 윈도우 컨테이너

- Windows NT 커널을 공유하여 컨테이너 실행
- Server Core, Nano Server 기반의 컨테이너 이미지 사용
- Hyper-V Isolation 없이 실행 시 커널 공유 가능
- IIS, .NET Framework 같은 윈도우 전용 앱에 적합

---

## 4. 비호환 조합의 문제점

### ▶ 윈도우에서 리눅스 컨테이너 실행
- WSL2 또는 Hyper-V 기반의 가상 머신 위에서 리눅스 커널을 에뮬레이션
- 추가적인 오버헤드 및 성능 저하 발생

### ▶ 리눅스에서 윈도우 컨테이너 실행
- 불가능
- Windows 커널 기능이 없기 때문에 실행 자체가 안 됨

---

## 5. 결론

- **같은 운영체제 기반에서 컨테이너를 실행하는 것이 가장 이상적이다.**
- 리눅스 ↔ 리눅스 컨테이너는 가장 보편적이며 성능도 뛰어남
- 윈도우 ↔ 윈도우 컨테이너는 특정 목적(.NET, IIS 등)에 맞춰서 활용
- 이질적인 조합은 성능과 호환성 측면에서 권장되지 않음

